import{_ as e,o as a,c as o,V as s}from"./chunks/framework.40f7bea3.js";const y=JSON.parse('{"title":"FAQ","description":"","frontmatter":{},"headers":[],"relativePath":"guide/faq.md","filePath":"guide/faq.md"}'),t={name:"guide/faq.md"},n=s('<h1 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h1><h2 id="how-to-backup-and-restore-the-database" tabindex="-1">how to backup and restore the database? <a class="header-anchor" href="#how-to-backup-and-restore-the-database" aria-label="Permalink to &quot;how to backup and restore the database?&quot;">​</a></h2><p>QD uses <strong>sqlite3</strong> as the framework database by default, and the <code>database.db</code> file is saved in <code>config</code> directory. When deploying with a Docker container, you can use the <code>docker cp</code> command to back up the database file, and then use the <code>docker cp</code> command to restore the database file in the new container.</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># database backup</span></span>\n<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container_name:/usr/src/app/config/database.db</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>\n<span class="line"><span style="color:#676E95;font-style:italic;"># Database recovery</span></span>\n<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database.db</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container_name:/usr/src/app/config/</span></span></code></pre></div><h2 id="how-to-configure-the-email-server-in-docker" tabindex="-1">how to configure the email server in Docker? <a class="header-anchor" href="#how-to-configure-the-email-server-in-docker" aria-label="Permalink to &quot;how to configure the email server in Docker?&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8923</span><span style="color:#C3E88D;">:80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">/qd/config:/usr/src/app/config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_SMTP=</span><span style="color:#A6ACCD;">$STMP_Server_ </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_PORT=</span><span style="color:#A6ACCD;">$Mailbox_server_port </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_USER=</span><span style="color:#A6ACCD;">$Username </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_PASSWORD=</span><span style="color:#A6ACCD;">$Password </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DOMAIN=</span><span style="color:#A6ACCD;">$Domain </span><span style="color:#C3E88D;">a76yyyy/qiandao</span></span></code></pre></div><h2 id="how-to-use-mysql-in-docker" tabindex="-1">how to use MySQL in Docker? <a class="header-anchor" href="#how-to-use-mysql-in-docker" aria-label="Permalink to &quot;how to use MySQL in Docker?&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8923</span><span style="color:#C3E88D;">:80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">/qd/config:/usr/src/app/config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--ENV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DB_TYPE=mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--ENV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">JAWSDB_MARIA_URL=mysql://</span><span style="color:#A6ACCD;">$username</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">$password</span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;">$hostname</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;">$port</span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">$database_name</span><span style="color:#C3E88D;">?auth_plugin=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a76yyyy/qiandao</span></span></code></pre></div><h2 id="how-to-build-a-docker-image-by-myself" tabindex="-1">how to build a Docker image by myself? <a class="header-anchor" href="#how-to-build-a-docker-image-by-myself" aria-label="Permalink to &quot;how to build a Docker image by myself?&quot;">​</a></h2><p>Please refer to the build file <a href="https://github.com/qd-today/qd/blob/master/Dockerfile" target="_blank" rel="noreferrer">Dockerfile</a> of this image.</p><h2 id="how-to-view-the-api-and-jinja2-template-variables-supported-by-the-current-framework" tabindex="-1">How to view the API and Jinja2 template variables supported by the current framework? <a class="header-anchor" href="#how-to-view-the-api-and-jinja2-template-variables-supported-by-the-current-framework" aria-label="Permalink to &quot;How to view the API and Jinja2 template variables supported by the current framework?&quot;">​</a></h2><p>Please access the home page of the framework, and then click the <code>Common API/Filter</code> button in the upper left corner to view the API and Jinja2 template variables supported by the current framework.</p><h2 id="how-to-submit-a-bug-issue" tabindex="-1">how to submit a bug issue? <a class="header-anchor" href="#how-to-submit-a-bug-issue" aria-label="Permalink to &quot;how to submit a bug issue?&quot;">​</a></h2><p>Please enable <code>Debug</code> mode after encountering a problem, and then submit detailed error information to <a href="https://github.com/qd-today/qd/issues" target="_blank" rel="noreferrer">Issue</a>.</p><h2 id="which-requests-are-necessary-for-qd" tabindex="-1">Which requests are necessary for QD? <a class="header-anchor" href="#which-requests-are-necessary-for-qd" aria-label="Permalink to &quot;Which requests are necessary for QD?&quot;">​</a></h2><p>Empirically, the following requests are necessary:</p><ul><li>login page</li><li>POST to login page</li><li>Issue a request for username, password</li><li>The page that caused the page to jump after sending</li><li>The first page before and after page turning</li></ul><h2 id="will-my-username-and-password-be-revealed" tabindex="-1">Will my username and password be revealed? <a class="header-anchor" href="#will-my-username-and-password-be-revealed" aria-label="Permalink to &quot;Will my username and password be revealed?&quot;">​</a></h2><p>In order to help users initiate requests, user names and passwords still need to be recorded. This can only rely on the self-discipline of server maintainers to ensure the security of back-end data. But in the framework design, each user is encrypted with a secure key when storing. Encrypting user data with a key can ensure that user data cannot be decrypted only by obtaining the database. (Encrypted user data includes templates uploaded by users, variables set by users for tasks, etc.)</p><p>If you are still worried, you can build the QD framework by yourself, download the template and run it on your own server.</p><h2 id="prompt-warning-message-connect-redis-falied-error-10061" tabindex="-1">Prompt warning message: <code>Connect Redis falied: Error 10061</code> <a class="header-anchor" href="#prompt-warning-message-connect-redis-falied-error-10061" aria-label="Permalink to &quot;Prompt warning message: `Connect Redis falied: Error 10061`&quot;">​</a></h2><p>QD uses <code>redis</code> as a flow limiting tool. If the <code>redis</code> service is not installed, the framework will prompt the following warning message.</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">W xxxxxx xx:xx:xx QD.RedisDB redisdb:28</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Connect Redis falied: Error 10061 connecting to localhost:6379. No connection could be made because the target machine actively refused it.</span></span></code></pre></div><p>However, <code>redis</code> is not required in this framework, if you don&#39;t need to use the <code>flow-limiting</code> feature, you can ignore the warning message.</p><blockquote><p>It is recommended to use <code>Docker compose</code> to deploy the QD framework, and the Docker compose configuration already installs the redis container by default.</p></blockquote><h2 id="prompt-warning-message-import-pycurl-module-falied" tabindex="-1">Prompt warning message: <code>Import PyCurl module falied</code> <a class="header-anchor" href="#prompt-warning-message-import-pycurl-module-falied" aria-label="Permalink to &quot;Prompt warning message: `Import PyCurl module falied`&quot;">​</a></h2><p>QD uses the <code>pycurl</code> module to send HTTP proxy requests. If the <code>pycurl</code> module is not installed, the framework will prompt the following warning message:</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">W xxxxxx xx:xx:xx QD.Http.Fetcher fetcher:34</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Import PyCurl module falied: No module named </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pycurl</span><span style="color:#89DDFF;">&#39;</span></span></code></pre></div><p>However, <code>pycurl</code> is not required in this framework, if you don&#39;t need to use the <code>proxy</code> function, you can ignore the warning message.</p><blockquote><p>The <code>pycurl</code> module is cumbersome to install on the Windows system, and the <code>libcurl</code> library needs to be installed. For the specific installation method, please refer to <a href="http://pycurl.io/docs/latest/install.html" target="_blank" rel="noreferrer">pycurl official documentation</a>.</p><p>It is recommended to use a container or linux system to deploy the QD framework. The docker container has a pre-installed Curl environment, and the pycurl module is installed by default</p></blockquote><h2 id="how-to-register-notification-tools" tabindex="-1">How to Register Notification Tools <a class="header-anchor" href="#how-to-register-notification-tools" aria-label="Permalink to &quot;How to Register Notification Tools&quot;">​</a></h2><p>You can register different notification tools to receive notifications when specific events (such as failed check-ins) occur.</p><h3 id="tgbot" tabindex="-1">TgBot <a class="header-anchor" href="#tgbot" aria-label="Permalink to &quot;TgBot&quot;">​</a></h3><p>Assuming you have created a Telegram bot API with a custom domain::</p><p><code>https://tg.mydomain.com/bot1111111111:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/sendMessage?chat_id=222222222&amp;text=HelloWorld</code></p><p>The above request will send a <code>HelloWorld</code> message to the chat with ID <code>222222222</code>. When registering TgBot as a notification method:</p><ul><li><code>TG_TOKEN</code> should be filled with the combination of the bot ID and corresponding key, but without <code>bot</code>. That is, the token provided by BotFather when applying for TgBot: <code>1111111111:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</code></li><li><code>TG_USERID</code> should be filled with the <code>chat_id</code> field in the Telegram API, that is, <code>222222222</code></li><li><code>TG_HOST</code> should be filled with <code>tg.mydomain.com</code>, and it can also include the <code>http://</code> or <code>https://</code> prefix</li></ul><p>Therefore, the final result looks like:</p><p><code>1111111111:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA;222222222;tg.mydomain.com</code></p><h2 id="subscribe-updating-page-prompts-undefined-error" tabindex="-1">Subscribe updating page prompts undefined error <a class="header-anchor" href="#subscribe-updating-page-prompts-undefined-error" aria-label="Permalink to &quot;Subscribe updating page prompts undefined error&quot;">​</a></h2><blockquote><p>The subscribe updating web page prompts an error code of undefined, or the console shows WebSocket connection failed but does not show the reason for the error</p></blockquote><p>Please check if the &quot;reverse proxy&quot; configuration is correct, refer to <a href="https://blog.csdn.net/tiven_/article/details/126126442" target="_blank" rel="noreferrer">Nginx reverse proxy WebSocket service connection error</a></p>',42),r=[n];function l(p,c,i,d,h,u){return a(),o("div",null,r)}const m=e(t,[["render",l]]);export{y as __pageData,m as default};
