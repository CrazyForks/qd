import{_ as s,c as a,o as e,a as l}from"./app.5fbf3277.js";const h=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[{"level":2,"title":"如何备份和恢复数据库?","slug":"如何备份和恢复数据库","link":"#如何备份和恢复数据库","children":[]},{"level":2,"title":"如何在 Docker 中配置邮箱服务器?","slug":"如何在-docker-中配置邮箱服务器","link":"#如何在-docker-中配置邮箱服务器","children":[]},{"level":2,"title":"如何在 Docker 中使用 MySQL?","slug":"如何在-docker-中使用-mysql","link":"#如何在-docker-中使用-mysql","children":[]},{"level":2,"title":"如何自己搭建 Docker 镜像?","slug":"如何自己搭建-docker-镜像","link":"#如何自己搭建-docker-镜像","children":[]},{"level":2,"title":"如何查看当前框架支持的 API 和 Jinja2 模板变量?","slug":"如何查看当前框架支持的-api-和-jinja2-模板变量","link":"#如何查看当前框架支持的-api-和-jinja2-模板变量","children":[]},{"level":2,"title":"如何提交 bug 问题?","slug":"如何提交-bug-问题","link":"#如何提交-bug-问题","children":[]},{"level":2,"title":"QD 模板一般需要哪些请求?","slug":"qd-模板一般需要哪些请求","link":"#qd-模板一般需要哪些请求","children":[]},{"level":2,"title":"我的用户名和密码会被泄露吗?","slug":"我的用户名和密码会被泄露吗","link":"#我的用户名和密码会被泄露吗","children":[]},{"level":2,"title":"提示警告信息: Connect Redis falied: Error 10061","slug":"提示警告信息-connect-redis-falied-error-10061","link":"#提示警告信息-connect-redis-falied-error-10061","children":[]},{"level":2,"title":"提示警告信息: Import PyCurl module falied","slug":"提示警告信息-import-pycurl-module-falied","link":"#提示警告信息-import-pycurl-module-falied","children":[]}],"relativePath":"zh_CN/guide/faq.md"}'),n={name:"zh_CN/guide/faq.md"},o=l(`<h1 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-hidden="true">#</a></h1><h2 id="如何备份和恢复数据库" tabindex="-1">如何备份和恢复数据库? <a class="header-anchor" href="#如何备份和恢复数据库" aria-hidden="true">#</a></h2><p>QD 默认使用 <strong>sqlite3</strong> 作为框架数据库，<code>database.db</code> 文件保存在 <code>config</code> 目录下。使用 Docker 容器部署时，可以使用 <code>docker cp</code> 命令备份数据库文件，然后使用 <code>docker cp</code> 命令在新容器中恢复数据库文件。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 数据库备份</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container_name:/usr/src/app/config/database.db</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 数据库恢复</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cp</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database.db</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">container_name:/usr/src/app/config/</span></span>
<span class="line"></span></code></pre></div><h2 id="如何在-docker-中配置邮箱服务器" tabindex="-1">如何在 Docker 中配置邮箱服务器? <a class="header-anchor" href="#如何在-docker-中配置邮箱服务器" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qiandao</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8923</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">/qiandao/config:/usr/src/app/config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_SMTP=STMP服务器</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_PORT=邮箱服务器端口</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_USER=用户名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MAIL_PASSWORD=密码</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">--env</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DOMAIN=域名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a76yyyy/qiandao</span></span>
<span class="line"></span></code></pre></div><h2 id="如何在-docker-中使用-mysql" tabindex="-1">如何在 Docker 中使用 MySQL? <a class="header-anchor" href="#如何在-docker-中使用-mysql" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">qiandao</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8923</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#82AAFF;">pwd</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">/qiandao/config:/usr/src/app/config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--ENV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">DB_TYPE=mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--ENV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">JAWSDB_MARIA_URL=mysql://用户名:密码@hostname:port/数据库名</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a76yyyy/qiandao</span></span>
<span class="line"></span></code></pre></div><h2 id="如何自己搭建-docker-镜像" tabindex="-1">如何自己搭建 Docker 镜像? <a class="header-anchor" href="#如何自己搭建-docker-镜像" aria-hidden="true">#</a></h2><p>请参考此镜像的构建文件 <a href="https://github.com/qiandao-today/qiandao/blob/master/Dockerfile" target="_blank" rel="noreferrer">Dockerfile</a>。</p><h2 id="如何查看当前框架支持的-api-和-jinja2-模板变量" tabindex="-1">如何查看当前框架支持的 API 和 Jinja2 模板变量? <a class="header-anchor" href="#如何查看当前框架支持的-api-和-jinja2-模板变量" aria-hidden="true">#</a></h2><p>请进入框架首页，然后点击左上角的 <code>常用 API/过滤器</code> 按钮，可以查看当前框架支持的API和Jinja2模板变量。</p><h2 id="如何提交-bug-问题" tabindex="-1">如何提交 bug 问题? <a class="header-anchor" href="#如何提交-bug-问题" aria-hidden="true">#</a></h2><p>请在遇到问题后开启 <code>Debug</code> 模式，然后将详细的错误日志提交至 <a href="https://github.com/qiandao-today/qiandao/issues" target="_blank" rel="noreferrer">Issue</a>。</p><h2 id="qd-模板一般需要哪些请求" tabindex="-1">QD 模板一般需要哪些请求? <a class="header-anchor" href="#qd-模板一般需要哪些请求" aria-hidden="true">#</a></h2><p>根据经验，以下请求是必要的：</p><ul><li>登录页面</li><li>发布到登录页面</li><li>发起 用户名、密码 请求</li><li>发送后导致页面跳转的页面</li><li>翻页前后的第一个网页</li></ul><h2 id="我的用户名和密码会被泄露吗" tabindex="-1">我的用户名和密码会被泄露吗? <a class="header-anchor" href="#我的用户名和密码会被泄露吗" aria-hidden="true">#</a></h2><p>为了帮助用户发起请求，终究需要记录用户名和密码。这只能靠服务器维护人员的自律来保证后端数据的安全。但在框架设计中，每个用户在存储时都使用安全密钥进行加密。使用密钥对用户数据进行加密，可以保证仅获取数据库就无法解密用户数据。（加密的用户数据包括用户上传的模板、用户为任务设置的变量等）</p><p>如果还是不放心，可以自己搭建QD框架，下载模板在自己的服务器上运行。</p><h2 id="提示警告信息-connect-redis-falied-error-10061" tabindex="-1">提示警告信息: <code>Connect Redis falied: Error 10061</code> <a class="header-anchor" href="#提示警告信息-connect-redis-falied-error-10061" aria-hidden="true">#</a></h2><p>QD 使用 <code>redis</code> 作为限流工具，如果没有安装 <code>redis</code> 服务，框架会提示以下警告信息。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">W xxxxxx xx:xx:xx qiandao.RedisDB redisdb:</span><span style="color:#F78C6C;">28</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Connect Redis falied: Error </span><span style="color:#F78C6C;">10061</span><span style="color:#A6ACCD;"> connecting to localhost:</span><span style="color:#F78C6C;">6379.</span><span style="color:#A6ACCD;"> 由于目标计算机积极拒绝，无法连接。</span></span>
<span class="line"></span></code></pre></div><p>然而，<code>redis</code> 在框架中并不是必须的，如果你不需要使用 <code>限流</code> 功能，可以忽略该警告信息。</p><blockquote><p>建议使用 <code>Docker compose</code> 部署 QD 框架, Docker compose 配置已默认安装 redis 容器。</p></blockquote><h2 id="提示警告信息-import-pycurl-module-falied" tabindex="-1">提示警告信息: <code>Import PyCurl module falied</code> <a class="header-anchor" href="#提示警告信息-import-pycurl-module-falied" aria-hidden="true">#</a></h2><p>QD 使用 <code>pycurl</code> 模块来发送 HTTP Proxy 请求。如果没有安装 <code>pycurl</code> 模块，框架会提示以下警告信息。</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">W xxxxxx xx:xx:xx qiandao.Http.Fetcher fetcher:</span><span style="color:#F78C6C;">34</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> Import PyCurl module falied: No module named </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pycurl</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre></div><p>然而，<code>pycurl</code> 在框架中并不是必须的，如果你不需要使用 <code>Proxy</code> 功能，可以忽略该警告信息。</p><blockquote><p><code>pycurl</code> 模块在 Windows 系统上安装比较麻烦，需要安装 <code>libcurl</code> 库，具体安装方法请参考 <a href="http://pycurl.io/docs/latest/install.html" target="_blank" rel="noreferrer">pycurl官方文档</a>。</p><p>建议使用容器或 linux 系统部署 QD 框架, Docker 容器已预装Curl环境, 默认安装pycurl模组。</p></blockquote>`,30),p=[o];function c(r,t,d,i,C,y){return e(),a("div",null,p)}const A=s(n,[["render",c]]);export{h as __pageData,A as default};
